var module_10121393=function(){var e={};i18n_getmessage=function(){return hs_i18n_getMessage(e,hsVars.language,arguments)},i18n_getlanguage=function(){return hsVars.language};var t=function(e){var t,n,r,o,a="",c=e,u=e.querySelector(".hs-search-field__input"),s=e.querySelector(".hs-search-field__suggestions"),i=function(){s.innerHTML="",u.focus(),c.classList.remove("hs-search-field--open")},l=function(){var t=new XMLHttpRequest,n="/_hcms/search?&term="+encodeURIComponent(a)+"&limit="+encodeURIComponent(3)+"&autocomplete=true&analytics=true&"+function(){for(var t=[],n=e.querySelector("form"),r=0;r<n.querySelectorAll("input[type=hidden]").length;r++){var o=n.querySelectorAll("input[type=hidden]")[r];"limit"!==o.name&&t.push(encodeURIComponent(o.name)+"="+encodeURIComponent(o.value))}return t.join("&")}();t.open("GET",n,!0),t.onload=function(){if(t.status>=200&&t.status<400){var e=JSON.parse(t.responseText);e.total>0?((r=[]).push("<li id='results-for'>Results for \""+(n=e).searchTerm+'"</li>'),n.results.forEach((function(e,t){r.push("<li id='result"+t+"'><a href='"+e.url+"'>"+e.title+"</a></li>")})),i(),s.innerHTML=r.join(""),c.classList.add("hs-search-field--open"),f()):i()}else console.error("Server reached, error retrieving results.");var n,r},t.onerror=function(){console.error("Could not reach the server.")},t.send()},f=function(){var e=[];e.push(u);for(var t=s.getElementsByTagName("A"),n=0;n<t.length;n++)e.push(t[n]);var r=e[0],o=e[e.length-1];c.addEventListener("keydown",(function(t){switch(t.which){case 9:!function(e){e.target!=o||e.shiftKey?e.target==r&&e.shiftKey&&(e.preventDefault(),o.focus()):(e.preventDefault(),r.focus())}(t);break;case 27:i();break;case 38:!function(t){t.preventDefault(),t.target==r?o.focus():e.forEach((function(n){n==t.target&&e[e.indexOf(n)-1].focus()}))}(t);break;case 40:!function(t){t.preventDefault(),t.target==o?r.focus():e.forEach((function(n){n==t.target&&e[e.indexOf(n)+1].focus()}))}(t)}}))},h=(t=function(){(a=u.value).length>2?l():0==a.length&&i()},n=250,function(){var e=this,a=arguments,c=function(){o=null,r||t.apply(e,a)},u=r&&!o;clearTimeout(o),o=setTimeout(c,n||200),u&&t.apply(e,a)});u.addEventListener("input",(function(e){9!=e.which&&40!=e.which&&38!=e.which&&27!=e.which&&a!=u.value&&h()}))};if(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState){var n=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(n,(function(e){t(e)}))}else document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(e,(function(e){t(e)}))}))}();